<!DOCTYPE html>
<html>

<head>
  <title>Image Gallery</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="app.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
  <div class="container">
    <div class="jumbotron">
      <h1>Open Library</h1>
      
      <p>Please enter the ISBN of the book you'd like to retrieve</p>
      
      <form action="/" method="post" onsubmit="buildGallery(); return false;">
        <div class="form-group row">
          
          <label for="number-images" class="col-sm-2 col-form-label"> ISBN </label>
          
          <div class="col-sm-4">
            <input type="text" class="form-control" id="number-images" placeholder="0" required>
          </div>
          
          <div class="col-sm-6">
            <button type="submit" class="btn btn-primary">Query</button>
          </div>
        
        </div>
      </form>
      
    </div>
    
    <div class="Cover" id="images">
        <span id="img"></span><br />
    </div>
    
    <!--<div class = "Info">-->
        <span id="title"></span> </span><br />
        <span id="Author"></span> </span><br />
        <span id="PublishYear"></span> </span><br />
        <span id="Publisher"></span> </span><br />
        <span id="ISBN"></span> </span><br />
        <span id="Pages"></span> </span><br />
    <!--</div>-->
    
  </div>
      <script>
      let buildGallery = function(){
    var url = "https://openlibrary.org/api/books?bibkeys=" + $("#number-images").val() + "&format=json&jscmd=data";
        	$.ajax({
        		url: url,
        		type: "GET",
        		dataType: "json",
        		data: { "title": $("#title").val() },
        		success: function(result, status){
        		    var x;
        		    x= "Title: " + result.title;
        		    document.getElementById("title").innerHTML = x;
        		    x= "Author: " + result.title;
        		    document.getElementById("Author").innerHTML = x;
        		    x= "Publish Year: " + result.title;
        		    document.getElementById("PublishYear").innerHTML = x;
        		    x= "Publisher: " + result.title;
        		    document.getElementById("Publisher").innerHTML = x;
        		    x= "ISBN: " + $("#number-images").val();
        		    document.getElementById("ISBN").innerHTML = x;
        		    x= "Pages: " + result.number_of_pages;
        		    document.getElementById("Pages").innerHTML = x;
        		},
        		error: function(err){
        			console.log(err);
        		}
        	});
}
      </script>
      
  <!--<script type="text/javascript" src="app.js"></script>-->
</body>
</html>